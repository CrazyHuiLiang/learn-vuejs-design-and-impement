# 权衡的艺术

## 声明式 vs 命令式

命令式优点

- 性能最佳

命令式缺点

- 可维护性相比声明式差

声明式优点

- 可维护性好

声明式缺点

- 性能不如极致优化的命令式

vuejs的内部一定是命令式的，而暴露给用户的是更加声明式的。在保证可维护性的同时让性能损失最小。

## 虚拟DOM vs DOM操作 vs innerHTML

创建

- 虚拟DOM性能差于其他两者

更新

- 直接DOM操作性能最佳
- 虚拟DOM需要对比出变化点再进行DOM操作，性能次之
- innerHTML哪怕修改一个小节点也也需要渲染全部，所以性能最差

心智负担

- innerHTML 和 虚拟DOM低
- 直接DOM操作心智负担最大

## 纯运行时 vs 运行时+编译时 vs 纯编译时

- 纯运行时没有分析用户提供的内容
- 运行时+编译时可以在编译阶段分析哪些内容不会变，将此信息提供给后续的渲染函数可以用做性能优化
- 纯编译时可能性能会更好，但是这种做法有损灵活性

vuejs是运行时+编译时，svelte是纯编译时


